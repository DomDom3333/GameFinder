<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:ArcadeMatch.Avalonia.Converters"
             xmlns:vm="clr-namespace:ArcadeMatch.Avalonia.ViewModels.Tabs"
             x:Class="ArcadeMatch.Avalonia.Controls.Tabs"
             x:DataType="vm:TabsViewModel">
    <UserControl.Resources>
        <converters:IsLoggedInToBrushConverter x:Key="IsLoggedInToBrushConverter" />
    </UserControl.Resources>
    <TabControl>
        <TabItem Header="Home" DataContext="{Binding Home}">
            <ScrollViewer VerticalScrollBarVisibility="Auto" x:DataType="vm:HomeTabViewModel">
                <StackPanel Margin="20">
                    <TextBlock Text="Steam Authentication" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <StackPanel Margin="0,0,0,20">
                        <TextBlock Text="1ï¸âƒ£ Click the login button below"/>
                        <TextBlock Text="2ï¸âƒ£ Complete Steam authentication in browser"/>
                        <TextBlock Text="3ï¸âƒ£ Click refresh to verify login status"/>
                        <TextBlock Text="4ï¸âƒ£ Keep browser open until verification is complete"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,0,20">
                        <TextBlock Text="ðŸ” Authentication Status" Margin="0,0,0,10"/>
                        <Border CornerRadius="15" Padding="15,8" Margin="0,0,15,0" Background="{Binding IsLoggedIn, Converter={StaticResource IsLoggedInToBrushConverter}}">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse Fill="White" Width="12" Height="12" Margin="0,0,8,0"/>
                                <TextBlock FontWeight="Bold" Foreground="White" Text="{Binding ConnectionStatus}"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
                        <Button Content="ðŸ”‘ Login to Steam" Command="{Binding LoginCommand}"/>
                        <Button Content="ðŸ”„ Refresh Status" Command="{Binding RefreshCommand}"/>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </TabItem>
        <TabItem Header="Session">
            <ContentControl x:Name="SessionContentControl"/>
        </TabItem>
        <TabItem Header="Settings" DataContext="{Binding Home}">
            <ScrollViewer VerticalScrollBarVisibility="Auto" x:DataType="vm:HomeTabViewModel">
                <StackPanel Margin="20">
                    <TextBlock Text="Configuration" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                    <TextBlock Text="ðŸ” Steam API Key"/>
                    <TextBox Text="{Binding SteamApiKey, Mode=TwoWay}" Margin="0,0,0,20"/>
                    <TextBlock Text="ðŸ†” Steam ID"/>
                    <TextBox Text="{Binding SteamId, Mode=TwoWay}" Margin="0,0,0,20"/>
                    <Button Content="ðŸ”„ Fetch via API" HorizontalAlignment="Center" Command="{Binding FetchViaApiCommand}"/>
                </StackPanel>
            </ScrollViewer>
        </TabItem>
    </TabControl>
</UserControl>

